%%%%% Translate %%%%%

  [_] FIXME: split line -- when url for GET must be less then 2000 characters
  2016-02-03 [X] TODO: continue line-by-line translation from last response onward

Send REST
  ++ https://whoshuu.github.io/cpr/
    https://github.com/whoshuu/cpr
  + https://github.com/JosephP91/curlcpp

  Escaping
    curl_easy_escape()
  Futures
        ```cpp
    auto fr = cpr::GetAsync(...);
    // fr.wait();
    auto response = fr.get();
    ```

Parse JSON
  Parsers impl in diff languages
    http://www.json.org/
    C https://github.com/zserge/jsmn
    C++
      ++ https://github.com/nlohmann/json
      + https://github.com/miloyip/rapidjson
      ~ http://fossil.wanderinghorse.net/repos/nosjob/index.cgi/index
      ? https://realtimelogic.com/products/json/  # works directly on TCP/IP stream
    Qt http://doc.qt.io/qt-5/json.html

% Format
  Each *provider* provides list of available functions
    sentence translation
    sentence phonetics
    furigana / words phonetics
    words translation
    words splitting
  Retrieved data is placed into appropriate universal containers
  Then choosen/all of them are combined into one *db*


%%% API
%% Google
  !!! Usage rules
    https://cloud.google.com/translate/v2/attribution
    * default total limits of 2M chars/day and 10K chars per 100 seconds (~100 chars/second).
      == NEED one worker per web tl service <-- monitor limits/timestamps and suspend/resume workers

IMPL
  https://github.com/matheuss/google-translate-token
    https://github.com/matheuss/google-translate-api
    https://github.com/matheuss/vertaler
  https://github.com/BenjaminDowns/google-translator  # see off api
  https://github.com/thomashempel/AlfredGoogleTranslateWorkflow
  https://github.com/mouuff/Google-Translate-API
  ! https://github.com/soimort/translate-shell
    https://github.com/pawurb/termit
  + http://pythonhosted.org/goslate/

REF
  https://cloud.google.com/translate/v2/translating-text-with-rest
    * complete url must be <2K chars
      NOTE: this limit don't apply to 'application/x-www-form-urlencoded'
      CHECK about 10k/100s limit
    * multiple q=... for multiple sentence
      BUT how to derive &tk then?
      > Seems multirequest simply don't work
    * frequent requests are banned (treated like robot crawling)

  BAD:(web-tl) possible to open only in browser
    $ r.b "https://translate.google.com/translate?hl=$hl&sl=$sl&tl=$tl&u=$uri"
    # hl=en&tl=en&sl=jp&u=http://ncode.syosetu.com/n4399ci/8/

  SNIP:(text -> bytearray)
  $ echo "text" | hexdump -v -e'1/1 "%03u" " "'
  # 104 101 108 108 111 010

%% Yandex
  !!! Usage rules
    https://tech.yandex.com/translate/doc/dg/concepts/design-requirements-docpage/
    * limit is 1M chars per day and 10M per month (free API key)

REF
  https://translate.yandex.ru/
    https://tech.yandex.com/translate/doc/dg/reference/translate-docpage/

  BAD:(jp) dict lookup  # The specified language is not supported
   auto const kUrl = "http://translate.yandex.net/dicservice.json/lookup";
   session.SetHeader({{"Host", "dictionary.yandex.net"},
                     {"Connection", "close"},
                     {"User-Agent", kAgent}});

%% Bing
#   == BabelFish (ja-en) https://www.babelfish.com
  !!! Usage rules
    https://www.microsoft.com/en-us/translator/attribution.aspx
    * max throughput is 400K chars per hour or 2M/day (2M/month seems free)

REF
    https://msdn.microsoft.com/en-us/library/dd576287.aspx

  CHECK: Web-url from cli
    $ r.b "http://www.microsofttranslator.com/bv.aspx?from=$sl&to=$tl&a=$uri"
  CHECK: dict lookup
    "http://www.bing.com/translator/api/Dictionary/Lookup?"  \
        "from=" sl "&to=" tl "&text=" preprocess(text)

%% FreeSDL
#   == Babylon (ja-en) http://translation.babylon-software.com
